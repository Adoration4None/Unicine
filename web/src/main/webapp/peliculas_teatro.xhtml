<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="WEB-INF/template.xhtml">
    <ui:define name="title">Peliculas #{peliculasTeatroBean.teatro.nombre}</ui:define>

    <ui:define name="content">
        <div jsf:id="imagenes-inicio" class="#{seguridadBean.ciudad  == null ? 'oculto' : ''}">
            <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"> </button>
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"> </button>
                    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"> </button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://res.cloudinary.com/dheuspgiq/image/upload/v1669094002/unicine/banners/blade-runner-2049-banner_bpdvkx.jpg" alt="cover banner" width="100%" height="100%"/>

                        <div class="container">
                            <div class="carousel-caption">
                                <h1 class="titulo">Las peliculas del momento</h1>
                                <p class="texto-sombreado">Â¡Explora nuestras carteleras con mas de 5 peliculas para todos los gustos!</p>
                            </div>
                        </div>
                    </div>
                    <p:repeat value="#{principalBean.imagenesPortada}" var="imagen">
                        <div class="carousel-item">
                            <img src="#{imagen}" alt="cover banner" width="100%" height="100%"/>

                            <div class="container">
                                <div class="carousel-caption">
                                    <h1 class="titulo">Unicine te espera</h1>
                                    <p class="texto-sombreado">Disfruta de experiencias inolvidables en los mejores teatros</p>
                                </div>
                            </div>
                        </div>
                    </p:repeat>

                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"> </span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"> </span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>


        <div jsf:id="seccion-peliculas" class="#{seguridadBean.ciudad  == null ? 'oculto' : ''}" >

            <div jsf:id="peliculas" class="container">
                <div>
                    <h1 class="titulo my-3 ms-5">Peliculas en #{peliculasTeatroBean.teatro.nombre}</h1>
                    <div jsf:id="peliculas-estreno">
                        <p:carousel value="#{peliculasTeatroBean.peliculasTeatro}" var="pelicula" numVisible="3" numScroll="3" containerStyleClass="peliculas">
                            <div class="pelicula">

                                <a href="detalle_pelicula.xhtml?mov=#{pelicula.id}" class="texto text-decoration-none">
                                    <div class="d-flex align-items-center justify-content-center">
                                        <p:graphicImage styleClass="img-fluid rounded-2 w-100 my-2 shadow" url="#{pelicula.imagenPrincipal}" />
                                    </div>

                                    <h4 class="mb-1">#{pelicula.nombre}</h4>
                                    <h6 class="mt-0 mb-3">
                                        <p:repeat value="#{pelicula.nombresGeneros}" var="genero">
                                            <p:chip label="#{genero}" styleClass="me-2 text-bg-dark"/>
                                        </p:repeat>
                                    </h6>
                                </a>
                            </div>
                        </p:carousel>
                    </div>
                </div>
            </div>

        </div>
    </ui:define>
</ui:composition>

</html>